<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>First Canvas Application</title>
</head>

<body>
    <div style='postion=absolute;top:100px;left:100px;'>
        <canvas id='canvasOne' width='500' height="300">
            Your Browser is not support HTML5 Canvas!
        </canvas>
    </div>
</body>
<script type="text/javascript">
/**
 * @brief window.addEventListener   window代表HTML页面，所以它是最高级别的dom对象， 为window添加一个事件对象
 *
 * @param 'load'                           事件类型
 * @param eventWindowLoaded                事件函数
 * @param false                            是否在事件传递到DOM对象树的底层对象之前捕捉此种类型的事件
 *
 * window.addEventListener('load',dosome,false) / window.onload = function(){dosome();)}/window.onload = dosome;
 *
 *
 *
 *
 *
 *
 */


window.addEventListener('load', eventWindowLoaded, false);

/**
 * 该方法是避免了那些不支持 console.log()方法的浏览器   【会弹出错误提示框的处理方式】
 * @AuthorHTL
 * @DateTime  2017-03-16T15:49:37+0800
 */
var Debugger = function() {};
Debugger.log = function(message) {
    try {
        console.log(message);
    } catch (exception) {
        return;
    }
}

function eventWindowLoaded() {
    canvasApp();
}

/**
 * 判断是否支持canvas
 * @AuthorHTL
 * @DateTime  2017-03-16T15:21:38+0800
 * @return    {[type]}                 [description]
 */
function canvasSupport() {
    return !!document.createElement('canvas').getContext;
}

function canvasApp() {
    if (!canvasSupport) {
        return;
    }
    var can = document.getElementById("canvasOne");
    var ctx = can.getContext("2d");

    Debugger.log("Drawing Canvas!");
    /**
     *   画图主要逻辑
     * @AuthorHTL
     * @DateTime  2017-03-16T15:16:57+0800
     * @return    {[type]}                 [description]
     */
    function drawScreen() {
            // 背景
            ctx.fillStyle = "#ffffaa";
            ctx.fillRect(0, 0, 500, 300);

        // //文字
        ctx.fillStyle = "#000";
        ctx.font="20px Sans-Serif";
        ctx.textBaseline = "center";
        ctx.fillText("Hello World!",195,80);

        // //图片
        var  helloImg = new Image();
        helloImg.src="img/hello.png";
        helloImg.onload = function(){
            ctx.drawImage(helloImg,190,120);
        }
        //边框
        ctx.strokeStyle="#000";
        ctx.strokeRect(5,5,490,290);
    }
    drawScreen();
}
</script>

</html>
